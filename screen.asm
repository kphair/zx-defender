clear_screen	proc

                ld hl, $5800
                ld de, hl
                inc de
                ld bc,$300
                ld (hl),b
                ldir
        
		ld hl,$4660
		ld b,32
		ld a,$ff
l0:		ld (hl),a
		inc h
		ld (hl),a
		inc l
		dec h
		djnz l0

		ld hl,$5860
		ld b,32
		ld a,$01
l1:		ld (hl),a
		inc l
		djnz l1

		ld hl,$0707
		ld ($586f),hl

		ld hl,$4008
		ld b,16
		ld a,$ff
l2:		ld (hl),a
		inc l
		djnz l2

		ld hl,$5808
		ld b,16
		ld a,$01
l3:		ld (hl),a
		inc l
		djnz l3

		ld hl,$0707
		ld ($580f),hl

		ld de,scanlinetable

		ld b,30

l4:             ld a,(de)
                inc de
                add a,7
                ld l,a
                ld a,(de)
                inc de
                ld h,a

                ld (hl),$03
                ld a,l
                add a,17
                ld l,a
                ld (hl),$c0
                djnz l4             


		retp



align 512

scanlinetable:	dw $4000, $4100, $4200, $4300, $4400, $4500, $4600, $4700
		dw $4020, $4120, $4220, $4320, $4420, $4520, $4620, $4720
		dw $4040, $4140, $4240, $4340, $4440, $4540, $4640, $4740
		dw $4060, $4160, $4260, $4360, $4460, $4560, $4660, $4760
		dw $4080, $4180, $4280, $4380, $4480, $4580, $4680, $4780
		dw $40a0, $41a0, $42a0, $43a0, $44a0, $45a0, $46a0, $47a0
		dw $40c0, $41c0, $42c0, $43c0, $44c0, $45c0, $46c0, $47c0
		dw $40e0, $41e0, $42e0, $43e0, $44e0, $45e0, $46e0, $47e0
		dw $4800, $4900, $4a00, $4b00, $4c00, $4d00, $4e00, $4f00
		dw $4820, $4920, $4a20, $4b20, $4c20, $4d20, $4e20, $4f20
		dw $4840, $4940, $4a40, $4b40, $4c40, $4d40, $4e40, $4f40
		dw $4860, $4960, $4a60, $4b60, $4c60, $4d60, $4e60, $4f60
		dw $4880, $4980, $4a80, $4b80, $4c80, $4d80, $4e80, $4f80
		dw $48a0, $49a0, $4aa0, $4ba0, $4ca0, $4da0, $4ea0, $4fa0
		dw $48c0, $49c0, $4ac0, $4bc0, $4cc0, $4dc0, $4ec0, $4fc0
		dw $48e0, $49e0, $4ae0, $4be0, $4ce0, $4de0, $4ee0, $4fe0
		dw $5000, $5100, $5200, $5300, $5400, $5500, $5600, $5700
		dw $5020, $5120, $5220, $5320, $5420, $5520, $5620, $5720
		dw $5040, $5140, $5240, $5340, $5440, $5540, $5640, $5740
		dw $5060, $5160, $5260, $5360, $5460, $5560, $5660, $5760
		dw $5080, $5180, $5280, $5380, $5480, $5580, $5680, $5780
		dw $50a0, $51a0, $52a0, $53a0, $54a0, $55a0, $56a0, $57a0
		dw $50c0, $51c0, $52c0, $53c0, $54c0, $55c0, $56c0, $57c0
		dw $50e0, $51e0, $52e0, $53e0, $54e0, $55e0, $56e0, $57e0

		dw $5b00, $5b00, $5b00, $5b00, $5b00, $5b00, $5b00, $5b00
		dw $5b00, $5b00, $5b00, $5b00, $5b00, $5b00, $5b00, $5b00
		dw $5b00, $5b00, $5b00, $5b00, $5b00, $5b00, $5b00, $5b00
		dw $5b00, $5b00, $5b00, $5b00, $5b00, $5b00, $5b00, $5b00
		dw $5b00, $5b00, $5b00, $5b00, $5b00, $5b00, $5b00, $5b00
		dw $5b00, $5b00, $5b00, $5b00, $5b00, $5b00, $5b00, $5b00
		dw $5b00, $5b00, $5b00, $5b00, $5b00, $5b00, $5b00, $5b00
		dw $5b00, $5b00, $5b00, $5b00, $5b00, $5b00, $5b00, $5b00


attrlinetable:	dw $5800
		dw $5820
		dw $5840
		dw $5860
		dw $5880
		dw $58a0
		dw $58c0
		dw $58e0

		dw $5900
		dw $5920
		dw $5940
		dw $5960
		dw $5980
		dw $59a0
		dw $59c0
		dw $59e0

		dw $5a00
		dw $5a20
		dw $5a40
		dw $5a60
		dw $5a80
		dw $5aa0
		dw $5ac0
		dw $5ae0

